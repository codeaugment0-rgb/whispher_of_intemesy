/* Enhanced Gallery Responsive Styles */

/* Touch-friendly interactions */
.touch-target {
    min-height: 44px;
    min-width: 44px;
    touch-action: manipulation;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
}

/* Mobile-first responsive grid improvements */
@media (max-width: 640px) {
    /* Extra small screens - 1 column with larger images */
    #imageGrid {
        grid-template-columns: 1fr !important;
        gap: 1rem !important;
    }
    
    /* Larger image cards on mobile for better visibility */
    #imageGrid .bg-white img {
        height: 200px !important;
    }
    
    /* Adjust button spacing on mobile */
    #imageGrid .flex.gap-1 {
        gap: 0.5rem !important;
    }
    
    /* Stack buttons vertically on very small screens */
    #imageGrid .flex.gap-1.flex-wrap {
        flex-direction: column;
        align-items: stretch;
    }
    
    #imageGrid .flex.gap-1.flex-wrap button {
        width: 100%;
        justify-content: center;
        padding: 0.5rem !important;
    }
}

@media (min-width: 641px) and (max-width: 768px) {
    /* Small tablets - 2 columns */
    #imageGrid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 1rem !important;
    }
}

@media (min-width: 769px) and (max-width: 1024px) {
    /* Medium tablets - 3 columns */
    #imageGrid {
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 1.25rem !important;
    }
}

@media (min-width: 1025px) and (max-width: 1280px) {
    /* Small desktops - 4 columns */
    #imageGrid {
        grid-template-columns: repeat(4, 1fr) !important;
        gap: 1.5rem !important;
    }
}

@media (min-width: 1281px) and (max-width: 1536px) {
    /* Large desktops - 5 columns */
    #imageGrid {
        grid-template-columns: repeat(5, 1fr) !important;
        gap: 1.5rem !important;
    }
}

@media (min-width: 1537px) {
    /* Extra large screens - 6 columns */
    #imageGrid {
        grid-template-columns: repeat(6, 1fr) !important;
        gap: 1.5rem !important;
    }
}

/* Enhanced modal responsiveness */
@media (max-width: 640px) {
    #editModal .bg-white {
        margin: 1rem;
        max-height: calc(100vh - 2rem);
        width: calc(100% - 2rem);
    }
    
    /* Stack form buttons vertically on mobile */
    #editModal .flex.flex-col.sm\\:flex-row {
        flex-direction: column !important;
    }
    
    #editModal .flex.flex-col.sm\\:flex-row button {
        width: 100%;
    }
}

/* Lightbox improvements for mobile */
@media (max-width: 640px) {
    #lightboxModal img {
        max-height: calc(100vh - 4rem) !important;
        width: calc(100vw - 1rem);
        object-fit: contain;
    }
    
    #lightboxCaption {
        font-size: 0.875rem;
        padding: 1rem;
    }
    
    /* Close button positioning for mobile */
    /* #lightboxModal button {
        top: 0.5rem !important;
        right: 0.5rem !important;
        background: rgba(0, 0, 0, 0.5);
        border-radius: 50%;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
} */

/* Upload area responsiveness */
@media (max-width: 640px) {
    #uploadArea {
        padding: 2rem 1rem !important;
        margin-bottom: 1.5rem !important;
    }
    
    #uploadArea h3 {
        font-size: 1rem !important;
    }
    
    #uploadArea p {
        font-size: 0.875rem !important;
    }
}

/* Header responsiveness improvements */
@media (max-width: 640px) {
    .gallery-header {
        flex-direction: column;
        align-items: stretch;
        gap: 1rem;
    }
    
    .gallery-header .flex.gap-3 {
        width: 100%;
        justify-content: center;
    }
    
    #uploadBtn {
        width: 100%;
        justify-content: center;
    }
}

/* Navigation breadcrumb improvements */
@media (max-width: 640px) {
    .mb-6.sm\\:mb-8.flex.flex-col.gap-4 nav {
        flex-wrap: wrap;
        gap: 0.5rem;
    }
    
    .mb-6.sm\\:mb-8.flex.flex-col.gap-4 nav a,
    .mb-6.sm\\:mb-8.flex.flex-col.gap-4 nav span {
        font-size: 0.875rem;
        padding: 0.5rem 0.75rem;
    }
}

/* Loading state improvements */
@media (max-width: 640px) {
    #loading {
        padding: 2rem 1rem;
    }
    
    #loading .inline-block {
        width: 32px;
        height: 32px;
    }
}

/* Empty state improvements */
@media (max-width: 640px) {
    .col-span-full.text-center.py-16 {
        padding: 2rem 1rem !important;
    }
    
    .col-span-full.text-center.py-16 .w-20.h-20 {
        width: 4rem !important;
        height: 4rem !important;
    }
    
    .col-span-full.text-center.py-16 h3 {
        font-size: 1rem !important;
    }
    
    .col-span-full.text-center.py-16 p {
        font-size: 0.875rem !important;
    }
}

/* Improved touch feedback */
@media (max-width: 768px) {
    .touch-target:active {
        transform: scale(0.95);
        transition: transform 0.1s ease;
    }
    
    /* Prevent text selection on touch */
    .touch-target {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        -webkit-touch-callout: none;
    }
}

/* Accessibility improvements */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    #imageGrid .bg-white {
        border: 2px solid #000;
    }
    
    .touch-target {
        border: 1px solid currentColor;
    }
}

/* Dark mode support (if needed) */
@media (prefers-color-scheme: dark) {
    /* Add dark mode styles if the app supports it */
}

/* Landscape orientation adjustments for mobile */
@media (max-width: 768px) and (orientation: landscape) {
    #imageGrid {
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 0.75rem !important;
    }
    
    #imageGrid .bg-white img {
        height: 120px !important;
    }
    
    #lightboxModal img {
        max-height: calc(100vh - 2rem) !important;
    }
}

/* Touch device improvements */
.touch-device .touch-target.touch-active {
    background-color: rgba(0, 0, 0, 0.05);
    transform: scale(0.95);
}

.touch-device button.touch-active {
    opacity: 0.8;
}

/* Improved focus states for accessibility */
.touch-target:focus-visible {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
}

/* Better spacing for touch devices */
.touch-device #imageGrid .flex.gap-1 {
    gap: 0.75rem;
}

.touch-device #imageGrid button {
    min-height: 36px;
    padding: 0.5rem 0.75rem;
}

/* Responsive text scaling */
@media (max-width: 640px) {
    html {
        font-size: 14px;
    }
}

@media (min-width: 641px) and (max-width: 768px) {
    html {
        font-size: 15px;
    }
}

@media (min-width: 769px) {
    html {
        font-size: 16px;
    }
}

/* Improved modal backdrop for mobile */
@media (max-width: 640px) {
    #editModal,
    #lightboxModal {
        backdrop-filter: blur(4px);
        -webkit-backdrop-filter: blur(4px);
    }
}

/* Better image aspect ratios for different screen sizes */
@media (max-width: 640px) {
    #imageGrid .bg-white img {
        aspect-ratio: 16/9;
        object-fit: cover;
    }
}

@media (min-width: 641px) and (max-width: 1024px) {
    #imageGrid .bg-white img {
        aspect-ratio: 4/3;
        object-fit: cover;
    }
}

@media (min-width: 1025px) {
    #imageGrid .bg-white img {
        aspect-ratio: 1/1;
        object-fit: cover;
    }
}

/* Image loading states */
#imageGrid img {
    background-color: #f3f4f6;
    background-image: linear-gradient(45deg, #e5e7eb 25%, transparent 25%), 
                      linear-gradient(-45deg, #e5e7eb 25%, transparent 25%), 
                      linear-gradient(45deg, transparent 75%, #e5e7eb 75%), 
                      linear-gradient(-45deg, transparent 75%, #e5e7eb 75%);
    background-size: 20px 20px;
    background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
}

#imageGrid img[loading="lazy"] {
    opacity: 0;
    transition: opacity 0.3s ease;
}

#imageGrid img[loading="lazy"].loaded {
    opacity: 1;
}

/* Smooth transitions for responsive changes */
#imageGrid {
    transition: grid-template-columns 0.3s ease, gap 0.3s ease;
}

#imageGrid .bg-white {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

/* Image container styles */
#imageContainer {
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
}

#lightboxImage {
    max-width: calc(100vw - 8rem);
    max-height: calc(100vh - 8rem);
}

/* Navigation buttons - Visible on all screen sizes */
/* #lightboxModal button {
    background-color: rgba(0, 0, 0, 0.8) !important;
    border: 2px solid rgba(255, 255, 255, 0.3) !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4) !important;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    width: 50px;
    height: 50px;
}

#lightboxModal button:hover {
    background-color: rgba(0, 0, 0, 0.9) !important;
    border-color: rgba(255, 255, 255, 0.5) !important;
}

#lightboxModal button:disabled {
    opacity: 0.5 !important;
    cursor: not-allowed;
} */

/* Info overlay */
#imageInfoOverlay {
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
}

/* Zoom controls */
#imageInfoOverlay button {
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
}

/* Loading indicator */
#imageLoader {
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
}

/* Mobile optimizations for image viewer */
@media (max-width: 768px) {
    #lightboxImage {
        max-width: calc(100vw - 2rem);
        max-height: calc(100vh - 10rem);
    }
    
    /* Hide zoom controls on mobile */
    #imageInfoOverlay .flex.items-center.gap-2 {
        display: none;
    }
    
    /* Adjust navigation buttons for mobile */
    #prevImageBtn,
    #nextImageBtn {
        width: 48px;
        height: 48px;
        left: 1rem;
        right: 1rem;
    }
    
    #nextImageBtn {
        right: 1rem;
        left: auto;
    }
    
    /* Adjust info overlay for mobile */
    #imageInfoOverlay {
        padding: 1rem;
    }
    
    #imageInfoOverlay .flex.flex-col.sm\\:flex-row {
        flex-direction: column;
        gap: 1rem;
    }
}

/* Smooth hover effects for gallery images */
#imageGrid .bg-white {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

#imageGrid .bg-white:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

#imageGrid .bg-white img {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

#imageGrid .bg-white:hover img {
    transform: scale(1.05);
}

/* Smooth button animations */
.touch-target {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.touch-target:hover {
    transform: translateY(-1px);
}

.touch-target:active {
    transform: translateY(0) scale(0.95);
}

/* Upload area animations */
#uploadArea {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

#uploadArea:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}

/* Loading animation improvements */
#loading .animate-spin {
    animation: spin 1s cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

/* Modal backdrop improvements */
#editModal,
#lightboxModal {
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
}

/* Smooth transitions for responsive grid changes */
#imageGrid {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Image loading placeholder animation */
#imageGrid img {
    background-image: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
}

#imageGrid img.loaded {
    background-image: none;
    animation: none;
}

@keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
}

/* FIXED: Buttons visible on ALL screen sizes */
/* #lightboxModal button {
    background-color: rgba(0, 0, 0, 0.8) !important;
    border: 2px solid rgba(255, 255, 255, 0.3) !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4) !important;
    backdrop-filter: blur(8px) !important;
    -webkit-backdrop-filter: blur(8px) !important;
} */

/* Desktop buttons */
@media (min-width: 769px) {
    #prevImageBtn,
    #nextImageBtn,
    #lightboxModal .absolute.top-4.right-4 {
        width: 50px !important;
        height: 50px !important;
    }
    
    #prevImageBtn svg,
    #nextImageBtn svg,
    #lightboxModal .absolute.top-4.right-4 svg {
        width: 20px !important;
        height: 20px !important;
    }
}

/* Mobile buttons - larger and more visible */
@media (max-width: 768px) {
    #prevImageBtn,
    #nextImageBtn,
    #lightboxModal .absolute.top-4.right-4 {
        width: 60px !important;
        height: 60px !important;
        background-color: rgba(0, 0, 0, 0.9) !important;
        border: 3px solid rgba(255, 255, 255, 0.4) !important;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.6) !important;
    }
    
    #prevImageBtn {
        left: 1rem !important;
    }
    
    #nextImageBtn {
        right: 1rem !important;
    }
    
    #prevImageBtn svg,
    #nextImageBtn svg,
    #lightboxModal .absolute.top-4.right-4 svg {
        width: 24px !important;
        height: 24px !important;
        stroke-width: 2.5 !important;
    }
    
    /* Hide zoom controls on mobile */
    #imageInfoOverlay .flex.items-center.gap-2 {
        display: none;
    }
    
    /* Keyboard help hidden on mobile */
    #keyboardHelp {
        display: none !important;
    }
}

/* Print styles */
@media print {
    #uploadBtn,
    #uploadArea,
    .touch-target,
    #editModal,
    #lightboxModal {
        display: none !important;
    }
    
    #imageGrid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 1rem !important;
    }
    
    #imageGrid .bg-white {
        break-inside: avoid;
        box-shadow: none;
        border: 1px solid #ccc;
    }
}}